<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduStream - Educational Media Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .progress-ring-circle {
            transition: stroke-dashoffset 0.35s;
            transform-origin: 50% 50%;
        }
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .quiz-option {
            transition: all 0.3s ease;
        }
        .quiz-option:hover {
            transform: translateX(4px);
        }
        .quiz-option.selected {
            background-color: #dbeafe;
            border-color: #3b82f6;
        }
        .quiz-option.correct {
            background-color: #dcfce7;
            border-color: #16a34a;
        }
        .quiz-option.incorrect {
            background-color: #fef2f2;
            border-color: #dc2626;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-all duration-300 sticky top-0 z-50 backdrop-blur-sm bg-white/95 dark:bg-gray-900/95">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo Section -->
                <div class="flex items-center space-x-8">
                    <div class="flex-shrink-0 flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-lg">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"/>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-900 dark:text-white">EduStream</h1>
                            <p class="text-xs text-gray-500 dark:text-gray-400 -mt-1">Learn & Grow</p>
                        </div>
                    </div>
                    
                    <!-- Desktop Navigation -->
                    <div class="hidden lg:flex items-center space-x-1">
                        <a href="#" onclick="showPage('home')" class="nav-link group flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all duration-200">
                            <svg class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                            </svg>
                            Home
                        </a>
                        <a href="#" onclick="showPage('courses')" class="nav-link group flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all duration-200">
                            <svg class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Courses
                        </a>
                        <a href="#" onclick="showPage('quizzes')" class="nav-link group flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all duration-200">
                            <svg class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                            </svg>
                            Quizzes
                        </a>
                        <a href="#" onclick="showPage('dashboard')" class="nav-link group flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all duration-200">
                            <svg class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                            </svg>
                            Dashboard
                        </a>
                    </div>
                </div>

                <!-- Right Section -->
                <div class="flex items-center space-x-3">
                    <!-- Search Bar (Desktop) -->
                    <div class="hidden md:flex items-center">
                        <div class="relative">
                            <input type="text" placeholder="Search courses..." class="w-64 pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all">
                            <svg class="absolute left-3 top-2.5 w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex items-center space-x-2">
                        <!-- Dark Mode Toggle -->
                        <button onclick="toggleDarkMode()" class="p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform dark-mode-icon hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                            </svg>
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform light-mode-icon block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                            </svg>
                        </button>

                        <!-- Notifications -->
                        <button class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                            </svg>
                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                        </button>

                        <!-- Cart -->
                        <button onclick="showPage('cart')" class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
                            </svg>
                            <span id="cart-count" class="absolute -top-1 -right-1 bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium">0</span>
                        </button>
                    </div>

                    <!-- Auth Section - Desktop -->
                    <div class="hidden lg:flex items-center space-x-3 ml-4 pl-4 border-l border-gray-200 dark:border-gray-700">
                        <div id="auth-buttons" class="flex items-center space-x-3">
                            <button onclick="showPage('login')" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                                Sign In
                            </button>
                            <button onclick="showPage('register')" class="px-4 py-2 text-sm font-medium bg-primary-600 text-white rounded-lg hover:bg-primary-700 shadow-sm hover:shadow-md transition-all duration-200">
                                Get Started
                            </button>
                        </div>
                        <div id="user-menu" class="hidden flex items-center space-x-3">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-primary-600 dark:text-primary-400" id="user-avatar">U</span>
                                </div>
                                <div class="hidden xl:block">
                                    <p class="text-sm font-medium text-gray-900 dark:text-white" id="user-name"></p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Student</p>
                                </div>
                            </div>
                            <div class="relative">
                                <button onclick="toggleUserDropdown()" class="p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                    <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                    </svg>
                                </button>
                                <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50">
                                    <a href="#" onclick="showPage('dashboard')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">My Dashboard</a>
                                    <a href="#" onclick="showPage('settings')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Settings</a>
                                    <hr class="my-1 border-gray-200 dark:border-gray-700">
                                    <button onclick="logout()" class="w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700">Sign Out</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile menu button -->
                    <button onclick="toggleMobileMenu()" class="lg:hidden p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200">
                        <svg id="mobile-menu-icon-open" class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                        </svg>
                        <svg id="mobile-menu-icon-close" class="hidden w-5 h-5 text-gray-600 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg">
            <div class="px-4 py-6 space-y-4">
                <!-- Mobile Search -->
                <div class="relative">
                    <input type="text" placeholder="Search courses..." class="w-full pl-10 pr-4 py-3 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                    <svg class="absolute left-3 top-3.5 w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                </div>

                <!-- Mobile Navigation Links -->
                <div class="space-y-2">
                    <a href="#" onclick="showPage('home'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-900 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        Home
                    </a>
                    <a href="#" onclick="showPage('courses'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Courses
                    </a>
                    <a href="#" onclick="showPage('quizzes'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                        </svg>
                        Quizzes
                    </a>
                    <a href="#" onclick="showPage('dashboard'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                        Dashboard
                    </a>
                </div>
                
                <!-- Right Section (Mobile) -->
                <div class="lg:hidden">
                    <div class="flex items-center space-x-2">
                        <!-- Dark Mode Toggle -->
                        <button onclick="toggleDarkMode()" class="p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform dark-mode-icon hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                            </svg>
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform light-mode-icon block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                            </svg>
                        </button>

                        <!-- Notifications -->
                        <button class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                            </svg>
                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                        </button>

                        <!-- Cart -->
                        <button onclick="showPage('cart')" class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
                            </svg>
                            <span id="cart-count" class="absolute -top-1 -right-1 bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium">0</span>
                        </button>
                    </div>

                    <!-- Auth Section - Mobile -->
                    <div class="hidden lg:flex items-center space-x-3 ml-4 pl-4 border-l border-gray-200 dark:border-gray-700">
                        <div id="auth-buttons" class="flex items-center space-x-3">
                            <button onclick="showPage('login')" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                                Sign In
                            </button>
                            <button onclick="showPage('register')" class="px-4 py-2 text-sm font-medium bg-primary-600 text-white rounded-lg hover:bg-primary-700 shadow-sm hover:shadow-md transition-all duration-200">
                                Get Started
                            </button>
                        </div>
                        <div id="user-menu" class="hidden flex items-center space-x-3">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-primary-600 dark:text-primary-400" id="mobile-user-avatar">U</span>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-900 dark:text-white" id="mobile-user-name"></p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Student</p>
                                </div>
                            </div>
                            <div class="relative">
                                <button onclick="toggleUserDropdown()" class="p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                    <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                    </svg>
                                </button>
                                <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50">
                                    <a href="#" onclick="showPage('dashboard')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">My Dashboard</a>
                                    <a href="#" onclick="showPage('settings')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Settings</a>
                                    <hr class="my-1 border-gray-200 dark:border-gray-700">
                                    <button onclick="logout()" class="w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700">Sign Out</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg">
            <div class="px-4 py-6 space-y-4">
                <!-- Mobile Search -->
                <div class="relative">
                    <input type="text" placeholder="Search courses..." class="w-full pl-10 pr-4 py-3 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                    <svg class="absolute left-3 top-3.5 w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                </div>

                <!-- Mobile Navigation Links -->
                <div class="space-y-2">
                    <a href="#" onclick="showPage('home'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-900 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        Home
                    </a>
                    <a href="#" onclick="showPage('courses'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Courses
                    </a>
                    <a href="#" onclick="showPage('quizzes'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                        </svg>
                        Quizzes
                    </a>
                    <a href="#" onclick="showPage('dashboard'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                        Dashboard
                    </a>
                </div>
                
                <!-- Right Section -->
                <div class="flex items-center space-x-3">
                    <!-- Search Bar (Desktop) -->
                    <div class="hidden md:flex items-center">
                        <div class="relative">
                            <input type="text" placeholder="Search courses..." class="w-64 pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all">
                            <svg class="absolute left-3 top-2.5 w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex items-center space-x-2">
                        <!-- Dark Mode Toggle -->
                        <button onclick="toggleDarkMode()" class="p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform dark-mode-icon hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                            </svg>
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform light-mode-icon block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                            </svg>
                        </button>

                        <!-- Notifications -->
                        <button class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                            </svg>
                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                        </button>

                        <!-- Cart -->
                        <button onclick="showPage('cart')" class="relative p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group">
                            <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
                            </svg>
                            <span id="cart-count" class="absolute -top-1 -right-1 bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium">0</span>
                        </button>
                    </div>

                    <!-- Auth Section - Mobile -->
                    <div class="hidden lg:flex items-center space-x-3 ml-4 pl-4 border-l border-gray-200 dark:border-gray-700">
                        <div id="auth-buttons" class="flex items-center space-x-3">
                            <button onclick="showPage('login')" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                                Sign In
                            </button>
                            <button onclick="showPage('register')" class="px-4 py-2 text-sm font-medium bg-primary-600 text-white rounded-lg hover:bg-primary-700 shadow-sm hover:shadow-md transition-all duration-200">
                                Get Started
                            </button>
                        </div>
                        <div id="user-menu" class="hidden flex items-center space-x-3">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-medium text-primary-600 dark:text-primary-400" id="mobile-user-avatar">U</span>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-900 dark:text-white" id="mobile-user-name"></p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Student</p>
                                </div>
                            </div>
                            <div class="relative">
                                <button onclick="toggleUserDropdown()" class="p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                    <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                    </svg>
                                </button>
                                <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50">
                                    <a href="#" onclick="showPage('dashboard')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">My Dashboard</a>
                                    <a href="#" onclick="showPage('settings')" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Settings</a>
                                    <hr class="my-1 border-gray-200 dark:border-gray-700">
                                    <button onclick="logout()" class="w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700">Sign Out</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg">
            <div class="px-4 py-6 space-y-4">
                <!-- Mobile Search -->
                <div class="relative">
                    <input type="text" placeholder="Search courses..." class="w-full pl-10 pr-4 py-3 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                    <svg class="absolute left-3 top-3.5 w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                </div>

                <!-- Mobile Navigation Links -->
                <div class="space-y-2">
                    <a href="#" onclick="showPage('home'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-900 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        Home
                    </a>
                    <a href="#" onclick="showPage('courses'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Courses
                    </a>
                    <a href="#" onclick="showPage('quizzes'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                        </svg>
                        Quizzes
                    </a>
                    <a href="#" onclick="showPage('dashboard'); closeMobileMenu()" class="mobile-nav-link flex items-center px-4 py-3 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-all">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                        Dashboard
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8">
        <!-- Home Page -->
        <div id="home-page" class="page-content">
            <div class="text-center mb-12 fade-in">
                <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Learn Anything, Anywhere</h1>
                <p class="text-xl text-gray-600 dark:text-gray-300 mb-8">Join thousands of students in our interactive learning platform</p>
                <button onclick="showPage('courses')" class="bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors">
                    Explore Courses
                </button>
            </div>

            <!-- Featured Courses -->
            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transition-colors fade-in">
                    <div class="h-48 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                        <span class="text-6xl">ðŸŽ¨</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Web Design Fundamentals</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Learn the basics of modern web design with hands-on projects</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-primary-600 dark:text-primary-400">â‚¹3,999</span>
                            <button onclick="addToCart(1)" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transition-colors fade-in">
                    <div class="h-48 bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center">
                        <span class="text-6xl">ðŸ’»</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">JavaScript Mastery</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Master JavaScript from basics to advanced concepts</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-primary-600 dark:text-primary-400">â‚¹6,499</span>
                            <button onclick="addToCart(2)" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transition-colors fade-in">
                    <div class="h-48 bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center">
                        <span class="text-6xl">ðŸ“Š</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Data Science Basics</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Introduction to data analysis and visualization</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-primary-600 dark:text-primary-400">â‚¹8,199</span>
                            <button onclick="addToCart(3)" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quizzes Page -->
        <div id="quizzes-page" class="page-content hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Knowledge Quizzes</h1>
                    <div class="flex items-center space-x-4">
                        <div class="text-sm text-gray-600 dark:text-gray-400">
                            Test your knowledge and track your progress
                        </div>
                    </div>
                </div>

                <!-- Quiz Categories -->
                <div class="mb-8">
                    <div class="flex flex-wrap gap-4">
                        <button onclick="filterQuizzes('all')" class="quiz-category-btn active bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors">All Quizzes</button>
                        <button onclick="filterQuizzes('web-development')" class="quiz-category-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Web Development</button>
                        <button onclick="filterQuizzes('data-science')" class="quiz-category-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Data Science</button>
                        <button onclick="filterQuizzes('design')" class="quiz-category-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Design</button>
                    </div>
                </div>

                <!-- Quiz Grid -->
                <div id="quizzes-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Quizzes will be populated here -->
                </div>
            </div>
        </div>

        <!-- Quiz Taking Page -->
        <div id="quiz-taking-page" class="page-content hidden">
            <div class="fade-in">
                <div class="max-w-4xl mx-auto">
                    <!-- Quiz Header -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6 transition-colors">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <h1 id="quiz-title" class="text-2xl font-bold text-gray-900 dark:text-white mb-2"></h1>
                                <p id="quiz-description" class="text-gray-600 dark:text-gray-300"></p>
                            </div>
                            <div class="text-right">
                                <div class="text-sm text-gray-500 dark:text-gray-400">Question</div>
                                <div class="text-lg font-bold text-primary-600 dark:text-primary-400">
                                    <span id="current-question">1</span> / <span id="total-questions">10</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Progress Bar -->
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div id="quiz-progress" class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: 10%"></div>
                        </div>
                    </div>

                    <!-- Question Card -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 mb-6 transition-colors">
                        <h2 id="question-text" class="text-xl font-semibold text-gray-900 dark:text-white mb-6"></h2>
                        
                        <div id="quiz-options" class="space-y-4">
                            <!-- Options will be populated here -->
                        </div>

                        <div class="flex justify-between items-center mt-8">
                            <button id="prev-btn" onclick="previousQuestion()" class="px-6 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors" disabled>
                                â† Previous
                            </button>
                            <div class="flex space-x-4">
                                <button id="next-btn" onclick="nextQuestion()" class="px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors" disabled>
                                    Next â†’
                                </button>
                                <button id="finish-btn" onclick="finishQuiz()" class="hidden px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                                    Finish Quiz
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Quiz Timer -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 transition-colors">
                        <div class="flex items-center justify-center space-x-4">
                            <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-lg font-medium text-gray-700 dark:text-gray-300">Time Remaining:</span>
                            <span id="quiz-timer" class="text-xl font-bold text-primary-600 dark:text-primary-400">15:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Results Page -->
        <div id="quiz-results-page" class="page-content hidden">
            <div class="fade-in">
                <div class="max-w-4xl mx-auto">
                    <!-- Results Header -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 mb-6 transition-colors text-center">
                        <div id="results-icon" class="text-6xl mb-4">ðŸŽ‰</div>
                        <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">Quiz Completed!</h1>
                        <p id="results-message" class="text-xl text-gray-600 dark:text-gray-300 mb-6"></p>
                        
                        <!-- Score Display -->
                        <div class="grid md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg">
                                <div class="text-3xl font-bold text-blue-600 dark:text-blue-400" id="final-score">0%</div>
                                <div class="text-sm text-blue-600 dark:text-blue-400">Final Score</div>
                            </div>
                            <div class="bg-green-50 dark:bg-green-900/20 p-6 rounded-lg">
                                <div class="text-3xl font-bold text-green-600 dark:text-green-400" id="correct-answers">0</div>
                                <div class="text-sm text-green-600 dark:text-green-400">Correct Answers</div>
                            </div>
                            <div class="bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg">
                                <div class="text-3xl font-bold text-purple-600 dark:text-purple-400" id="time-taken">0:00</div>
                                <div class="text-sm text-purple-600 dark:text-purple-400">Time Taken</div>
                            </div>
                        </div>

                        <div class="flex justify-center space-x-4">
                            <button onclick="retakeQuiz()" class="px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors">
                                Retake Quiz
                            </button>
                            <button onclick="showPage('quizzes')" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                                Back to Quizzes
                            </button>
                            <button onclick="showPage('dashboard')" class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                                View Dashboard
                            </button>
                        </div>
                    </div>

                    <!-- Detailed Results -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Question Review</h3>
                        <div id="question-review" class="space-y-4">
                            <!-- Question review will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Courses Page -->
        <div id="courses-page" class="page-content hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">All Courses</h1>
                    <div class="flex items-center space-x-4">
                        <select id="course-filter" onchange="filterCourses()" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option value="all">All Categories</option>
                            <option value="design">Design</option>
                            <option value="web-development">Web Development</option>
                            <option value="data-science">Data Science</option>
                        </select>
                        <select id="level-filter" onchange="filterCourses()" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option value="all">All Levels</option>
                            <option value="Beginner">Beginner</option>
                            <option value="Intermediate">Intermediate</option>
                            <option value="Advanced">Advanced</option>
                        </select>
                    </div>
                </div>

                <!-- Course Stats -->
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-blue-100 dark:bg-blue-900 rounded-full">
                                <span class="text-2xl">ðŸ“š</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Total Courses</p>
                                <p id="total-courses" class="text-2xl font-bold text-gray-900 dark:text-white">12</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-green-100 dark:bg-green-900 rounded-full">
                                <span class="text-2xl">â­</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Popular</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">8</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-purple-100 dark:bg-purple-900 rounded-full">
                                <span class="text-2xl">ðŸŽ“</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">With Certificates</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">10</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full">
                                <span class="text-2xl">ðŸ‘¥</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Students Enrolled</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">2.5k+</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Courses Grid -->
                <div id="courses-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Courses will be populated here -->
                </div>
            </div>
        </div>

        <!-- Course Detail Page -->
        <div id="course-detail-page" class="page-content hidden">
            <div class="fade-in">
                <div class="max-w-6xl mx-auto">
                    <!-- Course Header -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-8 transition-colors">
                        <div class="md:flex">
                            <div class="md:w-1/3">
                                <div id="course-image" class="h-64 md:h-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                                    <span class="text-8xl">ðŸŽ¨</span>
                                </div>
                            </div>
                            <div class="md:w-2/3 p-8">
                                <div class="flex items-center space-x-2 mb-4">
                                    <span id="course-category" class="text-xs font-medium text-primary-600 dark:text-primary-400 uppercase tracking-wide bg-primary-100 dark:bg-primary-900 px-2 py-1 rounded">Design</span>
                                    <span id="course-level" class="text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Beginner</span>
                                </div>
                                <h1 id="course-detail-title" class="text-3xl font-bold text-gray-900 dark:text-white mb-4">Course Title</h1>
                                <p id="course-detail-description" class="text-gray-600 dark:text-gray-300 mb-6">Course description goes here...</p>
                                
                                <div class="grid md:grid-cols-3 gap-4 mb-6">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-gray-500">â±ï¸</span>
                                        <span id="course-duration" class="text-sm text-gray-600 dark:text-gray-300">8 hours</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-gray-500">ðŸ“š</span>
                                        <span id="course-lessons" class="text-sm text-gray-600 dark:text-gray-300">16 lessons</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-gray-500">ðŸ‘¥</span>
                                        <span class="text-sm text-gray-600 dark:text-gray-300">1,234 students</span>
                                    </div>
                                </div>

                                <div class="flex items-center justify-between">
                                    <div>
                                        <span id="course-detail-price" class="text-3xl font-bold text-primary-600 dark:text-primary-400">$49</span>
                                        <span class="text-gray-500 line-through ml-2">$99</span>
                                    </div>
                                    <div class="space-x-4">
                                        <button onclick="enrollInCourse()" id="enroll-btn" class="bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                                            Enroll Now
                                        </button>
                                        <button onclick="addToCartFromDetail()" id="add-to-cart-btn" class="border border-primary-600 text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 px-8 py-3 rounded-lg font-medium transition-colors">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Course Content -->
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="md:col-span-2">
                            <!-- Course Curriculum -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-8 transition-colors">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Course Curriculum</h3>
                                <div id="course-curriculum" class="space-y-4">
                                    <!-- Curriculum will be populated here -->
                                </div>
                            </div>

                            <!-- Course Description -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">About This Course</h3>
                                <div id="course-full-description" class="text-gray-600 dark:text-gray-300 space-y-4">
                                    <!-- Full description will be populated here -->
                                </div>
                            </div>
                        </div>

                        <div>
                            <!-- Course Features -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6 transition-colors">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">What You'll Learn</h3>
                                <ul id="course-features" class="space-y-3">
                                    <!-- Features will be populated here -->
                                </ul>
                            </div>

                            <!-- Instructor Info -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Instructor</h3>
                                <div class="flex items-center space-x-4">
                                    <div class="w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center">
                                        <span class="text-lg font-medium text-primary-600 dark:text-primary-400">JD</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-900 dark:text-white">John Doe</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">Senior Developer</p>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-4">
                                    Experienced instructor with 10+ years in the industry. Passionate about teaching and helping students succeed.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page-content hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Learning Dashboard</h1>
                    <div class="flex items-center space-x-4">
                        <div class="text-sm text-gray-600 dark:text-gray-400">
                            Last updated: <span id="last-updated" class="font-medium"></span>
                        </div>
                        <button onclick="refreshDashboard()" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            ðŸ”„ Refresh
                        </button>
                    </div>
                </div>
                
                <!-- Stats Overview -->
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-blue-100 dark:bg-blue-900 rounded-full">
                                <span class="text-2xl">ðŸ“š</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Courses Enrolled</p>
                                <p id="enrolled-count" class="text-2xl font-bold text-gray-900 dark:text-white">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-green-100 dark:bg-green-900 rounded-full">
                                <span class="text-2xl">âœ…</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Completed</p>
                                <p id="completed-count" class="text-2xl font-bold text-gray-900 dark:text-white">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full">
                                <span class="text-2xl">â±ï¸</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Hours Learned</p>
                                <p id="hours-learned" class="text-2xl font-bold text-gray-900 dark:text-white">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex items-center">
                            <div class="p-3 bg-purple-100 dark:bg-purple-900 rounded-full">
                                <span class="text-2xl">ðŸ†</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Certificates</p>
                                <p id="certificates-count" class="text-2xl font-bold text-gray-900 dark:text-white">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Course Progress and Quiz Results -->
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">My Courses</h3>
                            <button onclick="simulateProgress()" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                ðŸ“ˆ Simulate Progress
                            </button>
                        </div>
                        <div id="enrolled-courses" class="space-y-4">
                            <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                                <span class="text-4xl block mb-2">ðŸ“š</span>
                                <p>No courses enrolled yet</p>
                                <button onclick="showPage('courses')" class="mt-4 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                    Browse Courses
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Quiz Results Section -->
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Quiz Results</h3>
                            <button onclick="showPage('quizzes')" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                ðŸ“ Take Quiz
                            </button>
                        </div>
                        <div id="quiz-results-summary" class="space-y-4">
                            <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                                <span class="text-4xl block mb-2">ðŸ“Š</span>
                                <p>No quiz results yet</p>
                                <button onclick="showPage('quizzes')" class="mt-4 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                    Take Your First Quiz
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Learning Analytics -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors mb-8">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Learning Analytics</h3>
                    <div class="grid md:grid-cols-2 lg:grid-cols-5 gap-4">
                        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ðŸ“…</span>
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300">This Week</span>
                            </div>
                            <span id="weekly-hours" class="text-lg font-bold text-primary-600 dark:text-primary-400">0h</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ðŸŽ¯</span>
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Avg. Session</span>
                            </div>
                            <span id="avg-session" class="text-lg font-bold text-primary-600 dark:text-primary-400">0m</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ðŸ”¥</span>
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Current Streak</span>
                            </div>
                            <span id="current-streak" class="text-lg font-bold text-primary-600 dark:text-primary-400">0 days</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ðŸ“Š</span>
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Quiz Average</span>
                            </div>
                            <span id="quiz-average" class="text-lg font-bold text-primary-600 dark:text-primary-400">0%</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">â­</span>
                                <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Favorite Category</span>
                            </div>
                            <span id="favorite-category" class="text-lg font-bold text-primary-600 dark:text-primary-400">None</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Recent Activity</h3>
                    <div id="recent-activity" class="space-y-4">
                        <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                            <span class="text-4xl block mb-2">ðŸ“</span>
                            <p>No recent activity</p>
                        </div>
                    </div>
                </div>

                <!-- Achievement System -->
                <div class="mt-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Achievements</h3>
                    <div id="achievements" class="grid md:grid-cols-3 gap-4">
                        <!-- Achievements will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login-page" class="page-content hidden">
            <div class="max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-900 dark:text-white mb-8">Login to EduStream</h2>
                <form id="login-form" onsubmit="handleLogin(event)">
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="login-email" required 
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Enter your email">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                        <input type="password" id="login-password" required minlength="6"
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Enter your password">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                    </div>
                    <button type="submit" class="w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center">
                        <span class="button-text">Login</span>
                        <div class="loading-spinner hidden ml-2"></div>
                    </button>
                </form>
                <p class="text-center text-gray-600 dark:text-gray-400 mt-4">
                    Don't have an account? 
                    <a href="#" onclick="showPage('register')" class="text-primary-600 dark:text-primary-400 hover:underline">Register here</a>
                </p>
            </div>
        </div>

        <!-- Register Page -->
        <div id="register-page" class="page-content hidden">
            <div class="max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-900 dark:text-white mb-8">Join EduStream</h2>
                <form id="register-form" onsubmit="handleRegister(event)">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                        <input type="text" id="register-name" required minlength="2"
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Enter your full name">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="register-email" required
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Enter your email">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                        <input type="password" id="register-password" required minlength="8" 
                               pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Enter your password">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Must contain uppercase, lowercase, number, and be 8+ characters</p>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Confirm Password</label>
                        <input type="password" id="register-confirm" required
                               class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
                               placeholder="Confirm your password">
                        <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                    </div>
                    <button type="submit" class="w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center">
                        <span class="button-text">Create Account</span>
                        <div class="loading-spinner hidden ml-2"></div>
                    </button>
                </form>
                <p class="text-center text-gray-600 dark:text-gray-400 mt-4">
                    Already have an account? 
                    <a href="#" onclick="showPage('login')" class="text-primary-600 dark:text-primary-400 hover:underline">Login here</a>
                </p>
            </div>
        </div>

        <!-- Course Video Page -->
        <div id="course-video-page" class="page-content hidden">
            <div class="fade-in">
                <div class="max-w-7xl mx-auto">
                    <!-- Video Header -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6 transition-colors">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h1 id="video-course-title" class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Course Title</h1>
                                <p id="video-lesson-title" class="text-gray-600 dark:text-gray-300">Lesson Title</p>
                            </div>
                            <button onclick="showPage('dashboard')" class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                                â† Back to Dashboard
                            </button>
                        </div>
                        
                        <!-- Progress Bar -->
                        <div class="mb-4">
                            <div class="flex justify-between text-sm text-gray-600 dark:text-gray-300 mb-2">
                                <span>Course Progress</span>
                                <span id="course-progress-text">0%</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                <div id="course-progress-bar" class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="grid lg:grid-cols-4 gap-6">
                        <!-- Video Player -->
                        <div class="lg:col-span-3">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-6 transition-colors">
                                <!-- Video Container -->
                                <div class="relative bg-gray-900 aspect-video flex items-center justify-center">
                                    <div id="video-player" class="w-full h-full flex items-center justify-center">
                                        <div class="text-center text-white">
                                            <div class="text-6xl mb-4">ðŸŽ¥</div>
                                            <h3 class="text-xl font-semibold mb-2">Video Player</h3>
                                            <p class="text-gray-300 mb-4">This is a demo video player for the course content</p>
                                            <div class="flex items-center justify-center space-x-4">
                                                <button onclick="toggleVideoPlay()" id="play-btn" class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg transition-colors">
                                                    â–¶ï¸ Play
                                                </button>
                                                <button onclick="markLessonComplete()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-colors">
                                                    âœ… Mark Complete
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Video Controls -->
                                <div class="p-4 bg-gray-50 dark:bg-gray-700">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-4">
                                            <button onclick="previousLesson()" class="text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                                                â®ï¸ Previous
                                            </button>
                                            <button onclick="toggleVideoPlay()" id="main-play-btn" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors">
                                                â–¶ï¸ Play
                                            </button>
                                            <button onclick="nextLesson()" class="text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                                                Next â­ï¸
                                            </button>
                                        </div>
                                        <div class="flex items-center space-x-4">
                                            <span class="text-sm text-gray-600 dark:text-gray-300">Speed:</span>
                                            <select id="playback-speed" class="text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white">
                                                <option value="0.5">0.5x</option>
                                                <option value="1" selected>1x</option>
                                                <option value="1.25">1.25x</option>
                                                <option value="1.5">1.5x</option>
                                                <option value="2">2x</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Lesson Description -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">About This Lesson</h3>
                                <div id="lesson-description" class="text-gray-600 dark:text-gray-300">
                                    <p>This lesson covers important concepts that will help you understand the fundamentals of the topic. Make sure to take notes and practice along with the examples shown in the video.</p>
                                </div>
                                
                                <!-- Lesson Resources -->
                                <div class="mt-6">
                                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">Lesson Resources</h4>
                                    <div class="space-y-2">
                                        <a href="#" class="flex items-center space-x-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                            <span>ðŸ“„</span>
                                            <span>Lesson Notes (PDF)</span>
                                        </a>
                                        <a href="#" class="flex items-center space-x-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                            <span>ðŸ’»</span>
                                            <span>Code Examples</span>
                                        </a>
                                        <a href="#" class="flex items-center space-x-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                                            <span>ðŸ”—</span>
                                            <span>Additional Resources</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Course Sidebar -->
                        <div class="lg:col-span-1">
                            <!-- Course Curriculum -->
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Course Content</h3>
                                <div id="video-curriculum" class="space-y-2">
                                    <!-- Curriculum will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart-page" class="page-content hidden">
            <div class="fade-in">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Shopping Cart</h1>
                
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="md:col-span-2">
                        <div id="cart-items" class="space-y-4">
                            <!-- Cart items will be populated here -->
                        </div>
                        <div id="empty-cart" class="text-center py-12 hidden">
                            <span class="text-6xl mb-4 block">ðŸ›’</span>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Your cart is empty</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-6">Add some courses to get started!</p>
                            <button onclick="showPage('courses')" class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg transition-colors">
                                Browse Courses
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-colors">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Order Summary</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-gray-600 dark:text-gray-300">Subtotal:</span>
                                    <span id="cart-subtotal" class="text-gray-900 dark:text-white font-medium">â‚¹0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600 dark:text-gray-300">Tax (18% GST):</span>
                                    <span id="cart-tax" class="text-gray-900 dark:text-white font-medium">â‚¹0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600 dark:text-gray-300">Discount:</span>
                                    <span id="cart-discount" class="text-green-600 dark:text-green-400 font-medium">-â‚¹0</span>
                                </div>
                                <hr class="border-gray-200 dark:border-gray-600">
                                <div class="flex justify-between">
                                    <span class="text-lg font-semibold text-gray-900 dark:text-white">Total:</span>
                                    <span id="cart-total" class="text-lg font-bold text-primary-600 dark:text-primary-400">â‚¹0</span>
                                </div>
                            </div>
                            
                            <!-- Coupon Code Section -->
                            <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Coupon Code</label>
                                <div class="flex space-x-2">
                                    <input type="text" id="coupon-input" placeholder="Enter coupon code" class="flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500">
                                    <button onclick="applyCoupon()" class="px-4 py-2 text-sm bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                                        Apply
                                    </button>
                                </div>
                                <div id="coupon-message" class="mt-2 text-sm hidden"></div>
                            </div>
                            
                            <button id="checkout-btn" onclick="checkout()" class="w-full mt-6 bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                Proceed to Checkout
                            </button>
                            
                            <div class="mt-4 text-center">
                                <button onclick="clearCart()" class="text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors">
                                    Clear Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Success/Error Messages -->
    <div id="message-container" class="fixed top-4 right-4 z-50"></div>

    <script>
        // Global State
        let currentUser = null;
        let cart = [];
        let userProgress = {};
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let quizAnswers = [];
        let quizTimer = null;
        let quizTimeLeft = 900; // 15 minutes in seconds

        let courses = [
            { 
                id: 1, 
                title: "Web Design Fundamentals", 
                price: 3999, 
                originalPrice: 7999,
                image: "ðŸŽ¨", 
                category: "design", 
                description: "Learn the basics of modern web design with hands-on projects", 
                duration: "8 hours", 
                lessons: 16, 
                level: "Beginner",
                rating: 4.8,
                students: 1234,
                instructor: "Sarah Johnson",
                features: [
                    "HTML5 and CSS3 fundamentals",
                    "Responsive design principles",
                    "Modern layout techniques",
                    "Color theory and typography",
                    "UI/UX best practices"
                ],
                curriculum: [
                    { title: "Introduction to Web Design", duration: "45 min", lessons: 3 },
                    { title: "HTML Fundamentals", duration: "90 min", lessons: 5 },
                    { title: "CSS Styling", duration: "120 min", lessons: 6 },
                    { title: "Responsive Design", duration: "75 min", lessons: 4 }
                ],
                fullDescription: "This comprehensive course covers everything you need to know about modern web design. From HTML and CSS fundamentals to advanced responsive design techniques, you'll learn to create beautiful, functional websites that work on all devices."
            },
            { 
                id: 2, 
                title: "JavaScript Mastery", 
                price: 6499, 
                originalPrice: 12299,
                image: "ðŸ’»", 
                category: "web-development", 
                description: "Master JavaScript from basics to advanced concepts", 
                duration: "12 hours", 
                lessons: 24, 
                level: "Intermediate",
                rating: 4.9,
                students: 2156,
                instructor: "Mike Chen",
                features: [
                    "ES6+ modern JavaScript",
                    "DOM manipulation",
                    "Async programming",
                    "API integration",
                    "Real-world projects"
                ],
                curriculum: [
                    { title: "JavaScript Basics", duration: "120 min", lessons: 6 },
                    { title: "Functions and Scope", duration: "90 min", lessons: 4 },
                    { title: "Objects and Arrays", duration: "105 min", lessons: 5 },
                    { title: "DOM Manipulation", duration: "135 min", lessons: 6 },
                    { title: "Async JavaScript", duration: "90 min", lessons: 3 }
                ],
                fullDescription: "Take your JavaScript skills to the next level with this comprehensive course. Learn modern ES6+ features, master asynchronous programming, and build real-world applications that showcase your expertise."
            },
            { 
                id: 3, 
                title: "Data Science Basics", 
                price: 8199, 
                originalPrice: 16399,
                image: "ðŸ“Š", 
                category: "data-science", 
                description: "Introduction to data analysis and visualization", 
                duration: "15 hours", 
                lessons: 30, 
                level: "Beginner",
                rating: 4.7,
                students: 987,
                instructor: "Dr. Emily Rodriguez",
                features: [
                    "Python for data science",
                    "Data cleaning and preprocessing",
                    "Statistical analysis",
                    "Data visualization",
                    "Machine learning basics"
                ],
                curriculum: [
                    { title: "Introduction to Data Science", duration: "60 min", lessons: 4 },
                    { title: "Python Fundamentals", duration: "180 min", lessons: 8 },
                    { title: "Data Analysis with Pandas", duration: "150 min", lessons: 6 },
                    { title: "Data Visualization", duration: "120 min", lessons: 5 },
                    { title: "Statistics and ML Basics", duration: "190 min", lessons: 7 }
                ],
                fullDescription: "Enter the exciting world of data science with this beginner-friendly course. Learn Python, explore data analysis techniques, create stunning visualizations, and get introduced to machine learning concepts."
            },
            { 
                id: 4, 
                title: "React Development", 
                price: 7349, 
                originalPrice: 13949,
                image: "âš›ï¸", 
                category: "web-development", 
                description: "Build modern web applications with React", 
                duration: "14 hours", 
                lessons: 28, 
                level: "Intermediate",
                rating: 4.8,
                students: 1876,
                instructor: "Alex Thompson",
                features: [
                    "React fundamentals and JSX",
                    "Component lifecycle",
                    "State management with Redux",
                    "React Router",
                    "Testing React applications"
                ],
                curriculum: [
                    { title: "React Fundamentals", duration: "120 min", lessons: 6 },
                    { title: "Components and Props", duration: "90 min", lessons: 4 },
                    { title: "State and Events", duration: "105 min", lessons: 5 },
                    { title: "React Router", duration: "75 min", lessons: 3 },
                    { title: "Redux State Management", duration: "150 min", lessons: 6 },
                    { title: "Testing and Deployment", duration: "100 min", lessons: 4 }
                ],
                fullDescription: "Master React, the most popular JavaScript library for building user interfaces. Learn to create dynamic, interactive web applications with modern React patterns and best practices."
            },
            { 
                id: 5, 
                title: "UI/UX Design Principles", 
                price: 5699, 
                originalPrice: 10649,
                image: "ðŸŽ¯", 
                category: "design", 
                description: "Master user interface and experience design", 
                duration: "10 hours", 
                lessons: 20, 
                level: "Beginner",
                rating: 4.9,
                students: 1543,
                instructor: "Jessica Park",
                features: [
                    "Design thinking process",
                    "User research methods",
                    "Wireframing and prototyping",
                    "Visual design principles",
                    "Usability testing"
                ],
                curriculum: [
                    { title: "Introduction to UX Design", duration: "60 min", lessons: 3 },
                    { title: "User Research", duration: "90 min", lessons: 4 },
                    { title: "Information Architecture", duration: "75 min", lessons: 3 },
                    { title: "Wireframing", duration: "105 min", lessons: 5 },
                    { title: "Visual Design", duration: "120 min", lessons: 5 }
                ],
                fullDescription: "Learn the fundamentals of UI/UX design and create user-centered digital experiences. This course covers the entire design process from research to final implementation."
            },
            { 
                id: 6, 
                title: "Python Programming", 
                price: 4869, 
                originalPrice: 9819,
                image: "ðŸ", 
                category: "web-development", 
                description: "Complete Python programming from scratch", 
                duration: "16 hours", 
                lessons: 32, 
                level: "Beginner",
                rating: 4.8,
                students: 2341,
                instructor: "David Kumar",
                features: [
                    "Python syntax and fundamentals",
                    "Object-oriented programming",
                    "File handling and databases",
                    "Web scraping",
                    "API development with Flask"
                ],
                curriculum: [
                    { title: "Python Basics", duration: "150 min", lessons: 8 },
                    { title: "Control Structures", duration: "120 min", lessons: 6 },
                    { title: "Functions and Modules", duration: "105 min", lessons: 5 },
                    { title: "Object-Oriented Programming", duration: "135 min", lessons: 6 },
                    { title: "File Handling", duration: "90 min", lessons: 4 },
                    { title: "Web Development Basics", duration: "120 min", lessons: 3 }
                ],
                fullDescription: "Start your programming journey with Python, one of the most versatile and beginner-friendly programming languages. Build real projects and gain practical coding skills."
            },
            { 
                id: 7, 
                title: "Machine Learning Fundamentals", 
                price: 9819, 
                originalPrice: 18899,
                image: "ðŸ¤–", 
                category: "data-science", 
                description: "Introduction to machine learning algorithms", 
                duration: "18 hours", 
                lessons: 36, 
                level: "Intermediate",
                rating: 4.7,
                students: 876,
                instructor: "Dr. Robert Kim",
                features: [
                    "Supervised learning algorithms",
                    "Unsupervised learning",
                    "Model evaluation and selection",
                    "Feature engineering",
                    "Deep learning introduction"
                ],
                curriculum: [
                    { title: "ML Introduction", duration: "90 min", lessons: 4 },
                    { title: "Supervised Learning", duration: "180 min", lessons: 8 },
                    { title: "Unsupervised Learning", duration: "135 min", lessons: 6 },
                    { title: "Model Evaluation", duration: "120 min", lessons: 5 },
                    { title: "Feature Engineering", duration: "105 min", lessons: 4 },
                    { title: "Deep Learning Basics", duration: "150 min", lessons: 9 }
                ],
                fullDescription: "Dive deep into machine learning with this comprehensive course. Learn popular algorithms, understand when to use them, and build predictive models for real-world problems."
            },
            { 
                id: 8, 
                title: "Digital Marketing Strategy", 
                price: 6519, 
                originalPrice: 13119,
                image: "ðŸ“±", 
                category: "design", 
                description: "Complete digital marketing and branding course", 
                duration: "12 hours", 
                lessons: 24, 
                level: "Beginner",
                rating: 4.6,
                students: 1654,
                instructor: "Maria Santos",
                features: [
                    "SEO and content marketing",
                    "Social media strategy",
                    "Email marketing campaigns",
                    "Analytics and tracking",
                    "Brand development"
                ],
                curriculum: [
                    { title: "Digital Marketing Overview", duration: "75 min", lessons: 3 },
                    { title: "SEO Fundamentals", duration: "120 min", lessons: 5 },
                    { title: "Content Marketing", duration: "105 min", lessons: 4 },
                    { title: "Social Media Marketing", duration: "135 min", lessons: 6 },
                    { title: "Email Marketing", duration: "90 min", lessons: 3 },
                    { title: "Analytics and Optimization", duration: "105 min", lessons: 3 }
                ],
                fullDescription: "Master digital marketing with this comprehensive course covering SEO, social media, content marketing, and analytics. Learn to create effective marketing campaigns that drive results."
            },
            { 
                id: 9, 
                title: "Node.js Backend Development", 
                price: 7759, 
                originalPrice: 15599,
                image: "ðŸŸ¢", 
                category: "web-development", 
                description: "Build scalable backend applications with Node.js", 
                duration: "16 hours", 
                lessons: 32, 
                level: "Advanced",
                rating: 4.8,
                students: 1234,
                instructor: "James Wilson",
                features: [
                    "Express.js framework",
                    "Database integration",
                    "RESTful API development",
                    "Authentication and security",
                    "Deployment and scaling"
                ],
                curriculum: [
                    { title: "Node.js Fundamentals", duration: "120 min", lessons: 6 },
                    { title: "Express.js Framework", duration: "135 min", lessons: 6 },
                    { title: "Database Integration", duration: "150 min", lessons: 7 },
                    { title: "API Development", duration: "120 min", lessons: 5 },
                    { title: "Authentication", duration: "105 min", lessons: 4 },
                    { title: "Deployment", duration: "90 min", lessons: 4 }
                ],
                fullDescription: "Build powerful backend applications with Node.js and Express. Learn to create RESTful APIs, integrate databases, implement authentication, and deploy scalable applications."
            },
            { 
                id: 10, 
                title: "Advanced Data Visualization", 
                price: 8999, 
                originalPrice: 18079,
                image: "ðŸ“ˆ", 
                category: "data-science", 
                description: "Create stunning data visualizations and dashboards", 
                duration: "14 hours", 
                lessons: 28, 
                level: "Advanced",
                rating: 4.9,
                students: 567,
                instructor: "Dr. Lisa Chang",
                features: [
                    "D3.js for interactive charts",
                    "Tableau dashboard creation",
                    "Statistical visualization",
                    "Real-time data visualization",
                    "Storytelling with data"
                ],
                curriculum: [
                    { title: "Visualization Principles", duration: "90 min", lessons: 4 },
                    { title: "D3.js Fundamentals", duration: "150 min", lessons: 6 },
                    { title: "Interactive Charts", duration: "135 min", lessons: 5 },
                    { title: "Dashboard Design", duration: "120 min", lessons: 5 },
                    { title: "Advanced Techniques", duration: "105 min", lessons: 4 },
                    { title: "Data Storytelling", duration: "90 min", lessons: 4 }
                ],
                fullDescription: "Master the art of data visualization with advanced tools and techniques. Learn to create interactive dashboards, compelling charts, and tell stories with your data."
            },
            { 
                id: 11, 
                title: "Mobile App Design", 
                price: 6929, 
                originalPrice: 13949,
                image: "ðŸ“±", 
                category: "design", 
                description: "Design beautiful mobile applications", 
                duration: "11 hours", 
                lessons: 22, 
                level: "Intermediate",
                rating: 4.7,
                students: 1098,
                instructor: "Ryan Foster",
                features: [
                    "iOS and Android design guidelines",
                    "Mobile UI patterns",
                    "Prototyping for mobile",
                    "Accessibility in mobile design",
                    "App store optimization"
                ],
                curriculum: [
                    { title: "Mobile Design Principles", duration: "75 min", lessons: 3 },
                    { title: "iOS Design Guidelines", duration: "105 min", lessons: 4 },
                    { title: "Android Material Design", duration: "105 min", lessons: 4 },
                    { title: "Mobile Prototyping", duration: "120 min", lessons: 5 },
                    { title: "Accessibility", duration: "90 min", lessons: 3 },
                    { title: "App Store Optimization", duration: "75 min", lessons: 3 }
                ],
                fullDescription: "Learn to design exceptional mobile applications that users love. Cover both iOS and Android design principles, create prototypes, and optimize for app stores."
            },
            { 
                id: 12, 
                title: "Cloud Computing with AWS", 
                price: 10649, 
                originalPrice: 21379,
                image: "â˜ï¸", 
                category: "web-development", 
                description: "Master cloud computing with Amazon Web Services", 
                duration: "20 hours", 
                lessons: 40, 
                level: "Advanced",
                rating: 4.8,
                students: 743,
                instructor: "Michael Brown",
                features: [
                    "AWS core services",
                    "Cloud architecture design",
                    "Security and compliance",
                    "Cost optimization",
                    "DevOps with AWS"
                ],
                curriculum: [
                    { title: "AWS Fundamentals", duration: "150 min", lessons: 6 },
                    { title: "Compute Services", duration: "180 min", lessons: 8 },
                    { title: "Storage and Databases", duration: "165 min", lessons: 7 },
                    { title: "Networking", duration: "135 min", lessons: 6 },
                    { title: "Security", duration: "150 min", lessons: 6 },
                    { title: "DevOps and Automation", duration: "120 min", lessons: 7 }
                ],
                fullDescription: "Master Amazon Web Services and cloud computing. Learn to design, deploy, and manage scalable applications in the cloud with industry best practices."
            }
        ];

        let quizzes = [
            {
                id: 1,
                title: "JavaScript Fundamentals",
                description: "Test your knowledge of JavaScript basics",
                category: "web-development",
                difficulty: "Beginner",
                questions: 10,
                timeLimit: 15,
                questions_data: [
                    {
                        question: "What is the correct way to declare a variable in JavaScript?",
                        options: ["var myVar;", "variable myVar;", "v myVar;", "declare myVar;"],
                        correct: 0
                    },
                    {
                        question: "Which method is used to add an element to the end of an array?",
                        options: ["append()", "push()", "add()", "insert()"],
                        correct: 1
                    },
                    {
                        question: "What does '===' operator do in JavaScript?",
                        options: ["Assigns value", "Compares value only", "Compares value and type", "Creates variable"],
                        correct: 2
                    },
                    {
                        question: "Which of the following is NOT a JavaScript data type?",
                        options: ["String", "Boolean", "Integer", "Undefined"],
                        correct: 2
                    },
                    {
                        question: "How do you create a function in JavaScript?",
                        options: ["function myFunction() {}", "create myFunction() {}", "def myFunction() {}", "func myFunction() {}"],
                        correct: 0
                    },
                    {
                        question: "What is the result of '5' + 3 in JavaScript?",
                        options: ["8", "53", "Error", "NaN"],
                        correct: 1
                    },
                    {
                        question: "Which method is used to remove the last element from an array?",
                        options: ["pop()", "remove()", "delete()", "splice()"],
                        correct: 0
                    },
                    {
                        question: "What is the correct way to write a JavaScript comment?",
                        options: ["<!-- comment -->", "// comment", "# comment", "/* comment"],
                        correct: 1
                    },
                    {
                        question: "Which event occurs when the user clicks on an HTML element?",
                        options: ["onchange", "onclick", "onmouseclick", "onmouseover"],
                        correct: 1
                    },
                    {
                        question: "What is the correct way to write a JavaScript array?",
                        options: ["var colors = 'red', 'green', 'blue'", "var colors = (1:'red', 2:'green', 3:'blue')", "var colors = ['red', 'green', 'blue']", "var colors = 1 = ('red'), 2 = ('green'), 3 = ('blue')"],
                        correct: 2
                    }
                ]
            },
            {
                id: 2,
                title: "HTML & CSS Basics",
                description: "Test your knowledge of HTML and CSS fundamentals",
                category: "web-development",
                difficulty: "Beginner",
                questions: 8,
                timeLimit: 12,
                questions_data: [
                    {
                        question: "What does HTML stand for?",
                        options: ["Hyper Text Markup Language", "High Tech Modern Language", "Home Tool Markup Language", "Hyperlink and Text Markup Language"],
                        correct: 0
                    },
                    {
                        question: "Which HTML element is used for the largest heading?",
                        options: ["<h6>", "<heading>", "<h1>", "<header>"],
                        correct: 2
                    },
                    {
                        question: "What is the correct CSS syntax?",
                        options: ["body {color: black;}", "{body;color:black;}", "body:color=black;", "{body:color=black;}"],
                        correct: 0
                    },
                    {
                        question: "Which property is used to change the background color?",
                        options: ["color", "bgcolor", "background-color", "bg-color"],
                        correct: 2
                    },
                    {
                        question: "How do you make text bold in CSS?",
                        options: ["font-weight: bold;", "text-style: bold;", "font: bold;", "text-weight: bold;"],
                        correct: 0
                    },
                    {
                        question: "Which HTML attribute specifies an alternate text for an image?",
                        options: ["title", "alt", "src", "longdesc"],
                        correct: 1
                    },
                    {
                        question: "How do you select an element with id 'demo' in CSS?",
                        options: [".demo", "#demo", "demo", "*demo"],
                        correct: 1
                    },
                    {
                        question: "Which CSS property controls the text size?",
                        options: ["font-style", "text-size", "font-size", "text-style"],
                        correct: 2
                    }
                ]
            },
            {
                id: 3,
                title: "Data Science Fundamentals",
                description: "Test your knowledge of data science concepts",
                category: "data-science",
                difficulty: "Intermediate",
                questions: 10,
                timeLimit: 18,
                questions_data: [
                    {
                        question: "What is the primary goal of data science?",
                        options: ["To collect data", "To extract insights from data", "To store data", "To visualize data"],
                        correct: 1
                    },
                    {
                        question: "Which Python library is commonly used for data manipulation?",
                        options: ["NumPy", "Pandas", "Matplotlib", "Scikit-learn"],
                        correct: 1
                    },
                    {
                        question: "What does 'EDA' stand for in data science?",
                        options: ["Exploratory Data Analysis", "Extended Data Application", "Experimental Data Approach", "Enhanced Data Algorithm"],
                        correct: 0
                    },
                    {
                        question: "Which type of learning uses labeled data?",
                        options: ["Unsupervised Learning", "Supervised Learning", "Reinforcement Learning", "Deep Learning"],
                        correct: 1
                    },
                    {
                        question: "What is overfitting in machine learning?",
                        options: ["Model performs well on training data but poorly on new data", "Model performs poorly on all data", "Model is too simple", "Model has too few parameters"],
                        correct: 0
                    },
                    {
                        question: "Which metric is used to evaluate classification models?",
                        options: ["Mean Squared Error", "R-squared", "Accuracy", "Mean Absolute Error"],
                        correct: 2
                    },
                    {
                        question: "What is the purpose of cross-validation?",
                        options: ["To increase model complexity", "To assess model performance", "To collect more data", "To reduce training time"],
                        correct: 1
                    },
                    {
                        question: "Which algorithm is used for clustering?",
                        options: ["Linear Regression", "Decision Tree", "K-Means", "Logistic Regression"],
                        correct: 2
                    },
                    {
                        question: "What is feature engineering?",
                        options: ["Collecting new data", "Creating new features from existing data", "Removing outliers", "Visualizing data"],
                        correct: 1
                    },
                    {
                        question: "Which visualization is best for showing correlation between two variables?",
                        options: ["Bar chart", "Pie chart", "Scatter plot", "Histogram"],
                        correct: 2
                    }
                ]
            },
            {
                id: 4,
                title: "UI/UX Design Principles",
                description: "Test your knowledge of design fundamentals",
                category: "design",
                difficulty: "Intermediate",
                questions: 8,
                timeLimit: 15,
                questions_data: [
                    {
                        question: "What does UX stand for?",
                        options: ["User Experience", "User Extension", "Universal Experience", "User Execution"],
                        correct: 0
                    },
                    {
                        question: "Which principle emphasizes the most important elements?",
                        options: ["Balance", "Contrast", "Hierarchy", "Proximity"],
                        correct: 2
                    },
                    {
                        question: "What is the purpose of a wireframe?",
                        options: ["To show final colors", "To plan layout and structure", "To add animations", "To test performance"],
                        correct: 1
                    },
                    {
                        question: "Which color scheme uses colors opposite on the color wheel?",
                        options: ["Monochromatic", "Analogous", "Complementary", "Triadic"],
                        correct: 2
                    },
                    {
                        question: "What is the 'F-pattern' in web design?",
                        options: ["A font style", "A reading pattern", "A color scheme", "A layout grid"],
                        correct: 1
                    },
                    {
                        question: "Which principle groups related elements together?",
                        options: ["Alignment", "Proximity", "Repetition", "Contrast"],
                        correct: 1
                    },
                    {
                        question: "What is the recommended line height for body text?",
                        options: ["1.0", "1.2-1.5", "2.0", "0.8"],
                        correct: 1
                    },
                    {
                        question: "Which testing method involves observing users interact with a design?",
                        options: ["A/B Testing", "Usability Testing", "Unit Testing", "Performance Testing"],
                        correct: 1
                    }
                ]
            }
        ];

        // Backend-like Data Management
        class UserDataManager {
            constructor() {
                this.storageKey = 'edustream_user_data';
                this.achievements = [
                    { id: 'first_purchase', name: 'First Purchase', description: 'Made your first course purchase', icon: 'ðŸ›’', unlocked: false },
                    { id: 'course_collector', name: 'Course Collector', description: 'Enrolled in 5 courses', icon: 'ðŸ“š', unlocked: false },
                    { id: 'quick_learner', name: 'Quick Learner', description: 'Completed first course', icon: 'âš¡', unlocked: false },
                    { id: 'dedicated_student', name: 'Dedicated Student', description: 'Studied for 20+ hours', icon: 'ðŸŽ“', unlocked: false },
                    { id: 'certificate_earner', name: 'Certificate Earner', description: 'Earned 3 certificates', icon: 'ðŸ†', unlocked: false },
                    { id: 'quiz_master', name: 'Quiz Master', description: 'Scored 90%+ on 5 quizzes', icon: 'ðŸ§ ', unlocked: false },
                    { id: 'perfect_score', name: 'Perfect Score', description: 'Got 100% on a quiz', icon: 'ðŸ’¯', unlocked: false },
                    { id: 'streak_master', name: 'Streak Master', description: '7-day learning streak', icon: 'ðŸ”¥', unlocked: false }
                ];
            }

            getUserData() {
                if (!currentUser) return null;
                const data = localStorage.getItem(`${this.storageKey}_${currentUser.id}`);
                return data ? JSON.parse(data) : this.createDefaultUserData();
            }

            createDefaultUserData() {
                return {
                    enrolledCourses: [],
                    completedCourses: [],
                    totalHoursLearned: 0,
                    certificates: [],
                    weeklyHours: [0, 0, 0, 0, 0, 0, 0],
                    recentActivity: [],
                    achievements: [...this.achievements],
                    lastUpdated: new Date().toISOString(),
                    purchaseHistory: [],
                    currentStreak: 0,
                    longestStreak: 0,
                    quizResults: [],
                    quizStats: {
                        totalQuizzes: 0,
                        averageScore: 0,
                        bestScore: 0,
                        perfectScores: 0
                    }
                };
            }

            saveUserData(data) {
                if (!currentUser) return;
                data.lastUpdated = new Date().toISOString();
                localStorage.setItem(`${this.storageKey}_${currentUser.id}`, JSON.stringify(data));
            }

            saveQuizResult(quizId, score, totalQuestions, timeTaken, answers) {
                const userData = this.getUserData();
                const quiz = quizzes.find(q => q.id === quizId);
                
                if (!quiz) return userData;

                const percentage = Math.round((score / totalQuestions) * 100);
                
                const quizResult = {
                    id: Date.now(),
                    quizId: quizId,
                    quizTitle: quiz.title,
                    category: quiz.category,
                    score: score,
                    totalQuestions: totalQuestions,
                    percentage: percentage,
                    timeTaken: timeTaken,
                    completedAt: new Date().toISOString(),
                    answers: answers
                };

                userData.quizResults.unshift(quizResult);
                
                // Update quiz stats
                userData.quizStats.totalQuizzes += 1;
                userData.quizStats.bestScore = Math.max(userData.quizStats.bestScore, percentage);
                
                if (percentage === 100) {
                    userData.quizStats.perfectScores += 1;
                }
                
                // Recalculate average score
                const totalScore = userData.quizResults.reduce((sum, result) => sum + result.percentage, 0);
                userData.quizStats.averageScore = Math.round(totalScore / userData.quizResults.length);

                // Add to recent activity
                userData.recentActivity.unshift({
                    id: Date.now(),
                    type: 'quiz',
                    message: `Completed "${quiz.title}" quiz with ${percentage}% score`,
                    timestamp: new Date().toISOString(),
                    icon: percentage >= 80 ? 'ðŸ†' : percentage >= 60 ? 'ðŸ“' : 'ðŸ“š'
                });

                // Limit recent activity to 10 items
                userData.recentActivity = userData.recentActivity.slice(0, 10);

                this.checkAchievements(userData);
                this.saveUserData(userData);
                return userData;
            }

            checkAchievements(userData) {
                // Quiz Master - 90%+ on 5 quizzes
                const highScoreQuizzes = userData.quizResults.filter(result => result.percentage >= 90).length;
                if (highScoreQuizzes >= 5) {
                    this.unlockAchievement(userData, 'quiz_master');
                }

                // Perfect Score
                if (userData.quizStats.perfectScores >= 1) {
                    this.unlockAchievement(userData, 'perfect_score');
                }
            }

            unlockAchievement(userData, achievementId) {
                const achievement = userData.achievements.find(a => a.id === achievementId);
                if (achievement && !achievement.unlocked) {
                    achievement.unlocked = true;
                    achievement.unlockedDate = new Date().toISOString();
                    
                    userData.recentActivity.unshift({
                        id: Date.now(),
                        type: 'achievement',
                        message: `Unlocked achievement: "${achievement.name}"`,
                        timestamp: new Date().toISOString(),
                        icon: achievement.icon
                    });

                    // Show achievement notification
                    showMessage(`ðŸŽ‰ Achievement Unlocked: ${achievement.name}!`, 'success');
                }
            }
        }

        const userDataManager = new UserDataManager();

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            displayQuizzes();
            displayCourses();
        });

        function initializeApp() {
            // Load theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
            }

            // Load user session
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateAuthUI();
                updateDashboard();
            }

            // Load cart
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartUI();
            }
            
            // Initialize cart display when cart page is shown
            setTimeout(() => {
                updateCartDisplay();
            }, 100);

            // Update last updated time
            updateLastUpdatedTime();
        }

        function updateLastUpdatedTime() {
            const lastUpdatedElement = document.getElementById('last-updated');
            if (lastUpdatedElement) {
                lastUpdatedElement.textContent = new Date().toLocaleTimeString();
            }
        }

        // Theme Management
        function toggleDarkMode() {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }

        // Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
                targetPage.classList.add('fade-in');
            }

            // Update dashboard when showing dashboard page
            if (pageId === 'dashboard' && currentUser) {
                updateDashboard();
            }
            
            // Update cart display when showing cart page
            if (pageId === 'cart') {
                updateCartDisplay();
            }
        }

        // Quiz Management
        function displayQuizzes(category = 'all') {
            const quizzesGrid = document.getElementById('quizzes-grid');
            if (!quizzesGrid) return;

            const filteredQuizzes = category === 'all' ? quizzes : quizzes.filter(quiz => quiz.category === category);

            quizzesGrid.innerHTML = filteredQuizzes.map(quiz => `
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transition-colors hover:shadow-xl">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-2">
                                <span class="text-2xl">ðŸ“</span>
                                <span class="text-xs font-medium text-primary-600 dark:text-primary-400 uppercase tracking-wide">${quiz.category.replace('-', ' ')}</span>
                            </div>
                            <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full">${quiz.difficulty}</span>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">${quiz.title}</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4 text-sm">${quiz.description}</p>
                        
                        <div class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-6 space-x-4">
                            <span>â“ ${quiz.questions} questions</span>
                            <span>â±ï¸ ${quiz.timeLimit} minutes</span>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-500 dark:text-gray-400">
                                ${getUserQuizStats(quiz.id)}
                            </div>
                            <button onclick="startQuiz(${quiz.id})" class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg transition-colors font-medium">
                                Start Quiz
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getUserQuizStats(quizId) {
            if (!currentUser) return 'Not attempted';
            
            const userData = userDataManager.getUserData();
            const quizResults = userData.quizResults.filter(result => result.quizId === quizId);
            
            if (quizResults.length === 0) {
                return 'Not attempted';
            }
            
            const bestScore = Math.max(...quizResults.map(result => result.percentage));
            return `Best: ${bestScore}%`;
        }

        function filterQuizzes(category) {
            // Update active button
            document.querySelectorAll('.quiz-category-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-primary-600', 'text-white');
                btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
            });
            
            event.target.classList.add('active', 'bg-primary-600', 'text-white');
            event.target.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
            
            displayQuizzes(category);
        }

        function startQuiz(quizId) {
            if (!currentUser) {
                showMessage('Please login to take quizzes', 'error');
                showPage('login');
                return;
            }

            currentQuiz = quizzes.find(q => q.id === quizId);
            if (!currentQuiz) return;

            currentQuestionIndex = 0;
            quizAnswers = [];
            quizTimeLeft = currentQuiz.timeLimit * 60; // Convert to seconds

            // Initialize quiz UI
            document.getElementById('quiz-title').textContent = currentQuiz.title;
            document.getElementById('quiz-description').textContent = currentQuiz.description;
            document.getElementById('total-questions').textContent = currentQuiz.questions_data.length;

            showPage('quiz-taking');
            displayQuestion();
            startQuizTimer();
        }

        function displayQuestion() {
            const question = currentQuiz.questions_data[currentQuestionIndex];
            
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('question-text').textContent = question.question;
            
            const progress = ((currentQuestionIndex + 1) / currentQuiz.questions_data.length) * 100;
            document.getElementById('quiz-progress').style.width = progress + '%';

            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <div class="quiz-option border-2 border-gray-200 dark:border-gray-600 rounded-lg p-4 cursor-pointer hover:border-primary-300 dark:hover:border-primary-500 transition-all" onclick="selectOption(${index})">
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 border-2 border-gray-300 dark:border-gray-500 rounded-full flex items-center justify-center">
                            <div class="w-3 h-3 bg-primary-600 rounded-full hidden option-indicator"></div>
                        </div>
                        <span class="text-gray-900 dark:text-white">${option}</span>
                    </div>
                </div>
            `).join('');

            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentQuestionIndex === 0;
            document.getElementById('next-btn').disabled = true;
            
            if (currentQuestionIndex === currentQuiz.questions_data.length - 1) {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.remove('hidden');
            } else {
                document.getElementById('next-btn').classList.remove('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }

            // Restore previous answer if exists
            if (quizAnswers[currentQuestionIndex] !== undefined) {
                selectOption(quizAnswers[currentQuestionIndex], false);
            }
        }

        function selectOption(optionIndex, enableNext = true) {
            // Clear previous selections
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('selected');
                option.querySelector('.option-indicator').classList.add('hidden');
            });

            // Select current option
            const selectedOption = document.querySelectorAll('.quiz-option')[optionIndex];
            selectedOption.classList.add('selected');
            selectedOption.querySelector('.option-indicator').classList.remove('hidden');

            // Store answer
            quizAnswers[currentQuestionIndex] = optionIndex;

            // Enable next button
            if (enableNext) {
                document.getElementById('next-btn').disabled = false;
                document.getElementById('finish-btn').disabled = false;
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions_data.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function startQuizTimer() {
            quizTimer = setInterval(() => {
                quizTimeLeft--;
                
                const minutes = Math.floor(quizTimeLeft / 60);
                const seconds = quizTimeLeft % 60;
                document.getElementById('quiz-timer').textContent = 
                    `${minutes}:${seconds.toString().padStart(2, '0')}`;

                if (quizTimeLeft <= 0) {
                    clearInterval(quizTimer);
                    finishQuiz();
                }
            }, 1000);
        }

        function finishQuiz() {
            clearInterval(quizTimer);
            
            // Calculate score
            let correctAnswers = 0;
            const totalQuestions = currentQuiz.questions_data.length;
            
            for (let i = 0; i < totalQuestions; i++) {
                if (quizAnswers[i] === currentQuiz.questions_data[i].correct) {
                    correctAnswers++;
                }
            }

            const timeTaken = (currentQuiz.timeLimit * 60) - quizTimeLeft;
            
            // Save quiz result
            userDataManager.saveQuizResult(
                currentQuiz.id,
                correctAnswers,
                totalQuestions,
                timeTaken,
                quizAnswers
            );

            // Show results
            showQuizResults(correctAnswers, totalQuestions, timeTaken);
        }

        function showQuizResults(correctAnswers, totalQuestions, timeTaken) {
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('final-score').textContent = percentage + '%';
            document.getElementById('correct-answers').textContent = correctAnswers + '/' + totalQuestions;
            
            const minutes = Math.floor(timeTaken / 60);
            const seconds = timeTaken % 60;
            document.getElementById('time-taken').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;

            // Set results message and icon
            let message, icon;
            if (percentage >= 90) {
                message = "Excellent work! You've mastered this topic!";
                icon = "ðŸ†";
            } else if (percentage >= 70) {
                message = "Great job! You have a solid understanding!";
                icon = "ðŸŽ‰";
            } else if (percentage >= 50) {
                message = "Good effort! Consider reviewing the material.";
                icon = "ðŸ‘";
            } else {
                message = "Keep practicing! Review the material and try again.";
                icon = "ðŸ“š";
            }

            document.getElementById('results-message').textContent = message;
            document.getElementById('results-icon').textContent = icon;

            // Show detailed question review
            displayQuestionReview();
            
            showPage('quiz-results');
        }

        function displayQuestionReview() {
            const reviewContainer = document.getElementById('question-review');
            
            reviewContainer.innerHTML = currentQuiz.questions_data.map((question, index) => {
                const userAnswer = quizAnswers[index];
                const correctAnswer = question.correct;
                const isCorrect = userAnswer === correctAnswer;
                
                return `
                    <div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
                        <div class="flex items-start justify-between mb-3">
                            <h4 class="font-medium text-gray-900 dark:text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-2 py-1 rounded-full ${isCorrect ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'}">
                                ${isCorrect ? 'Correct' : 'Incorrect'}
                            </span>
                        </div>
                        <p class="text-gray-700 dark:text-gray-300 mb-3">${question.question}</p>
                        <div class="space-y-2">
                            ${question.options.map((option, optionIndex) => {
                                let classes = 'p-2 rounded border text-sm ';
                                if (optionIndex === correctAnswer) {
                                    classes += 'bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-700 dark:text-green-200';
                                } else if (optionIndex === userAnswer && userAnswer !== correctAnswer) {
                                    classes += 'bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-700 dark:text-red-200';
                                } else {
                                    classes += 'bg-gray-50 border-gray-200 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300';
                                }
                                
                                return `<div class="${classes}">${option}</div>`;
                            }).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function retakeQuiz() {
            if (currentQuiz) {
                startQuiz(currentQuiz.id);
            }
        }

        // Course Management
        function displayCourses(categoryFilter = 'all', levelFilter = 'all') {
            const coursesGrid = document.getElementById('courses-grid');
            if (!coursesGrid) return;

            let filteredCourses = courses;
            
            if (categoryFilter !== 'all') {
                filteredCourses = filteredCourses.filter(course => course.category === categoryFilter);
            }
            
            if (levelFilter !== 'all') {
                filteredCourses = filteredCourses.filter(course => course.level === levelFilter);
            }

            coursesGrid.innerHTML = filteredCourses.map(course => `
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r ${getCourseGradient(course.category)} flex items-center justify-center">
                            <span class="text-6xl">${course.image}</span>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="text-xs font-medium text-white bg-black bg-opacity-50 px-2 py-1 rounded uppercase tracking-wide">${course.category.replace('-', ' ')}</span>
                        </div>
                        <div class="absolute top-4 right-4">
                            <span class="text-xs font-medium text-white bg-black bg-opacity-50 px-2 py-1 rounded">${course.level}</span>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">${course.title}</h3>
                            <div class="flex items-center space-x-1">
                                <span class="text-yellow-400">â­</span>
                                <span class="text-sm text-gray-600 dark:text-gray-300">${course.rating}</span>
                            </div>
                        </div>
                        
                        <p class="text-gray-600 dark:text-gray-300 mb-4 text-sm line-clamp-2">${course.description}</p>
                        
                        <div class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-4 space-x-4">
                            <span class="flex items-center space-x-1">
                                <span>â±ï¸</span>
                                <span>${course.duration}</span>
                            </span>
                            <span class="flex items-center space-x-1">
                                <span>ðŸ“š</span>
                                <span>${course.lessons} lessons</span>
                            </span>
                            <span class="flex items-center space-x-1">
                                <span>ðŸ‘¥</span>
                                <span>${course.students.toLocaleString()}</span>
                            </span>
                        </div>
                        
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-2">
                                <span class="text-2xl font-bold text-primary-600 dark:text-primary-400">â‚¹${course.price.toLocaleString('en-IN')}</span>
                                ${course.originalPrice ? `<span class="text-gray-500 line-through text-sm">â‚¹${course.originalPrice.toLocaleString('en-IN')}</span>` : ''}
                            </div>
                            <span class="text-xs text-green-600 dark:text-green-400 font-medium">
                                ${course.originalPrice ? Math.round(((course.originalPrice - course.price) / course.originalPrice) * 100) + '% OFF' : 'Best Price'}
                            </span>
                        </div>
                        
                        <div class="space-y-3">
                            <button onclick="viewCourseDetail(${course.id})" class="w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white px-4 py-2 rounded-lg transition-colors font-medium">
                                View Details
                            </button>
                            <div class="flex space-x-2">
                                <button onclick="addToCart(${course.id})" class="flex-1 border border-primary-600 text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 px-4 py-2 rounded-lg transition-colors font-medium">
                                    Add to Cart
                                </button>
                                <button onclick="enrollInCourse(${course.id})" class="flex-1 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors font-medium">
                                    Enroll Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Update total courses count
            const totalCoursesElement = document.getElementById('total-courses');
            if (totalCoursesElement) {
                totalCoursesElement.textContent = filteredCourses.length;
            }
        }

        function getCourseGradient(category) {
            const gradients = {
                'design': 'from-pink-500 to-purple-600',
                'web-development': 'from-blue-500 to-green-600',
                'data-science': 'from-purple-500 to-blue-600'
            };
            return gradients[category] || 'from-gray-500 to-gray-600';
        }

        function filterCourses() {
            const categoryFilter = document.getElementById('course-filter').value;
            const levelFilter = document.getElementById('level-filter').value;
            displayCourses(categoryFilter, levelFilter);
        }

        function viewCourseDetail(courseId) {
            const course = courses.find(c => c.id === courseId);
            if (!course) return;

            // Update course detail page
            document.getElementById('course-detail-title').textContent = course.title;
            document.getElementById('course-detail-description').textContent = course.description;
            document.getElementById('course-detail-price').textContent = `â‚¹${course.price.toLocaleString('en-IN')}`;
            document.getElementById('course-category').textContent = course.category.replace('-', ' ');
            document.getElementById('course-level').textContent = course.level;
            document.getElementById('course-duration').textContent = course.duration;
            document.getElementById('course-lessons').textContent = `${course.lessons} lessons`;

            // Update course image
            const courseImage = document.getElementById('course-image');
            courseImage.className = `h-64 md:h-full bg-gradient-to-r ${getCourseGradient(course.category)} flex items-center justify-center`;
            courseImage.innerHTML = `<span class="text-8xl">${course.image}</span>`;

            // Update curriculum
            const curriculumContainer = document.getElementById('course-curriculum');
            curriculumContainer.innerHTML = course.curriculum.map((section, index) => `
                <div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center">
                                <span class="text-sm font-medium text-primary-600 dark:text-primary-400">${index + 1}</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white">${section.title}</h4>
                                <p class="text-sm text-gray-500 dark:text-gray-400">${section.lessons} lessons â€¢ ${section.duration}</p>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                </div>
            `).join('');

            // Update features
            const featuresContainer = document.getElementById('course-features');
            featuresContainer.innerHTML = course.features.map(feature => `
                <li class="flex items-center space-x-3">
                    <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-gray-700 dark:text-gray-300">${feature}</span>
                </li>
            `).join('');

            // Update full description
            document.getElementById('course-full-description').innerHTML = `
                <p>${course.fullDescription}</p>
                <div class="mt-6">
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">Course Highlights:</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-600 dark:text-gray-300">
                        ${course.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                </div>
            `;

            // Store current course for enrollment
            window.currentCourseDetail = course;

            showPage('course-detail');
        }

        function enrollInCourse(courseId) {
            if (!currentUser) {
                showMessage('Please login to enroll in courses', 'error');
                showPage('login');
                return;
            }

            const course = courseId ? courses.find(c => c.id === courseId) : window.currentCourseDetail;
            if (!course) return;

            const userData = userDataManager.getUserData();
            
            // Check if already enrolled
            if (userData.enrolledCourses.find(c => c.id === course.id)) {
                showMessage('You are already enrolled in this course!', 'info');
                return;
            }

            // Add to enrolled courses
            userData.enrolledCourses.push({
                ...course,
                enrolledDate: new Date().toISOString(),
                progress: 0,
                completedLessons: 0
            });

            // Add to purchase history
            userData.purchaseHistory.push({
                id: Date.now(),
                courseId: course.id,
                courseTitle: course.title,
                price: course.price,
                purchaseDate: new Date().toISOString(),
                type: 'enrollment'
            });

            // Add to recent activity
            userData.recentActivity.unshift({
                id: Date.now(),
                type: 'enrollment',
                message: `Enrolled in "${course.title}"`,
                timestamp: new Date().toISOString(),
                icon: 'ðŸ“š'
            });

            // Check achievements
            if (userData.enrolledCourses.length === 1) {
                userDataManager.unlockAchievement(userData, 'first_purchase');
            }
            if (userData.enrolledCourses.length >= 5) {
                userDataManager.unlockAchievement(userData, 'course_collector');
            }

            userDataManager.saveUserData(userData);
            showMessage(`Successfully enrolled in ${course.title}!`, 'success');
            
            // Remove from cart if it was there
            cart = cart.filter(item => item.id !== course.id);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
        }

        function addToCartFromDetail() {
            if (window.currentCourseDetail) {
                addToCart(window.currentCourseDetail.id);
            }
        }

        // Dashboard Management
        function updateDashboard() {
            if (!currentUser) return;

            const userData = userDataManager.getUserData();
            
            // Update stats
            document.getElementById('enrolled-count').textContent = userData.enrolledCourses.length;
            document.getElementById('completed-count').textContent = userData.completedCourses.length;
            document.getElementById('hours-learned').textContent = Math.round(userData.totalHoursLearned);
            document.getElementById('certificates-count').textContent = userData.certificates.length;

            // Update quiz stats
            document.getElementById('quiz-average').textContent = userData.quizStats.averageScore + '%';

            // Update enrolled courses display
            updateEnrolledCoursesDisplay(userData);

            // Update quiz results summary
            updateQuizResultsSummary(userData);

            // Update recent activity
            updateRecentActivity(userData);

            // Update achievements
            updateAchievements(userData);

            updateLastUpdatedTime();
        }

        function updateEnrolledCoursesDisplay(userData) {
            const container = document.getElementById('enrolled-courses');
            
            if (userData.enrolledCourses.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                        <span class="text-4xl block mb-2">ðŸ“š</span>
                        <p>No courses enrolled yet</p>
                        <button onclick="showPage('courses')" class="mt-4 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                            Browse Courses
                        </button>
                    </div>
                `;
                return;
            }

            container.innerHTML = userData.enrolledCourses.map(course => `
                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-gradient-to-r ${getCourseGradient(course.category)} rounded-lg flex items-center justify-center">
                                <span class="text-2xl">${course.image}</span>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white">${course.title}</h4>
                                <p class="text-sm text-gray-500 dark:text-gray-400">${course.lessons} lessons â€¢ ${course.duration}</p>
                            </div>
                        </div>
                        <button onclick="openCourseVideo(${course.id})" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            ${course.progress > 0 ? 'Continue' : 'Start'} Learning
                        </button>
                    </div>
                    <div class="mb-2">
                        <div class="flex justify-between text-sm text-gray-600 dark:text-gray-300 mb-1">
                            <span>Progress</span>
                            <span>${course.progress}%</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2">
                            <div class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: ${course.progress}%"></div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-500 dark:text-gray-400">
                        ${course.completedLessons}/${course.lessons} lessons completed
                    </div>
                </div>
            `).join('');
        }

        function updateQuizResultsSummary(userData) {
            const container = document.getElementById('quiz-results-summary');
            
            if (userData.quizResults.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                        <span class="text-4xl block mb-2">ðŸ“Š</span>
                        <p>No quiz results yet</p>
                        <button onclick="showPage('quizzes')" class="mt-4 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
                            Take Your First Quiz
                        </button>
                    </div>
                `;
                return;
            }

            const recentResults = userData.quizResults.slice(0, 5);
            
            container.innerHTML = `
                <div class="space-y-3">
                    ${recentResults.map(result => `
                        <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">${result.percentage >= 80 ? 'ðŸ†' : result.percentage >= 60 ? 'ðŸ“' : 'ðŸ“š'}</span>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white text-sm">${result.quizTitle}</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">${new Date(result.completedAt).toLocaleDateString()}</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-lg ${result.percentage >= 80 ? 'text-green-600 dark:text-green-400' : result.percentage >= 60 ? 'text-yellow-600 dark:text-yellow-400' : 'text-red-600 dark:text-red-400'}">${result.percentage}%</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">${result.score}/${result.totalQuestions}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <p class="text-lg font-bold text-blue-600 dark:text-blue-400">${userData.quizStats.totalQuizzes}</p>
                            <p class="text-xs text-blue-600 dark:text-blue-400">Total Quizzes</p>
                        </div>
                        <div>
                            <p class="text-lg font-bold text-blue-600 dark:text-blue-400">${userData.quizStats.averageScore}%</p>
                            <p class="text-xs text-blue-600 dark:text-blue-400">Average Score</p>
                        </div>
                        <div>
                            <p class="text-lg font-bold text-blue-600 dark:text-blue-400">${userData.quizStats.bestScore}%</p>
                            <p class="text-xs text-blue-600 dark:text-blue-400">Best Score</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateRecentActivity(userData) {
            const container = document.getElementById('recent-activity');
            
            if (userData.recentActivity.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                        <span class="text-4xl block mb-2">ðŸ“</span>
                        <p>No recent activity</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = userData.recentActivity.map(activity => `
                <div class="flex items-center space-x-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <span class="text-2xl">${activity.icon}</span>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-900 dark:text-white">${activity.message}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">${new Date(activity.timestamp).toLocaleString()}</p>
                    </div>
                </div>
            `).join('');
        }

        function updateAchievements(userData) {
            const container = document.getElementById('achievements');
            
            container.innerHTML = userData.achievements.map(achievement => `
                <div class="p-4 border border-gray-200 dark:border-gray-600 rounded-lg ${achievement.unlocked ? 'bg-yellow-50 dark:bg-yellow-900/20' : 'bg-gray-50 dark:bg-gray-700'} transition-colors">
                    <div class="flex items-center space-x-3 mb-2">
                        <span class="text-2xl ${achievement.unlocked ? '' : 'grayscale opacity-50'}">${achievement.icon}</span>
                        <h4 class="font-medium text-gray-900 dark:text-white">${achievement.name}</h4>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-300">${achievement.description}</p>
                    ${achievement.unlocked ? `<p class="text-xs text-yellow-600 dark:text-yellow-400 mt-2">Unlocked ${new Date(achievement.unlockedDate).toLocaleDateString()}</p>` : ''}
                </div>
            `).join('');
        }

        function refreshDashboard() {
            if (currentUser) {
                updateDashboard();
                showMessage('Dashboard refreshed!', 'success');
            }
        }

        // Authentication
        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Simple demo authentication
            currentUser = {
                id: Date.now(),
                name: email.split('@')[0],
                email: email
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateAuthUI();
            showMessage('Login successful!', 'success');
            showPage('dashboard');
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            if (password !== confirm) {
                showMessage('Passwords do not match', 'error');
                return;
            }
            
            // Simple demo registration
            currentUser = {
                id: Date.now(),
                name: name,
                email: email
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateAuthUI();
            showMessage('Registration successful!', 'success');
            showPage('dashboard');
        }

        function updateAuthUI() {
            const authButtons = document.getElementById('auth-buttons');
            const userMenu = document.getElementById('user-menu');
            const mobileAuthButtons = document.getElementById('mobile-auth-buttons');
            const mobileUserMenu = document.getElementById('mobile-user-menu');
            
            if (currentUser) {
                authButtons.classList.add('hidden');
                userMenu.classList.remove('hidden');
                mobileAuthButtons.classList.add('hidden');
                mobileUserMenu.classList.remove('hidden');
                
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-avatar').textContent = currentUser.name.charAt(0).toUpperCase();
                document.getElementById('mobile-user-name').textContent = currentUser.name;
                document.getElementById('mobile-user-avatar').textContent = currentUser.name.charAt(0).toUpperCase();
            } else {
                authButtons.classList.remove('hidden');
                userMenu.classList.add('hidden');
                mobileAuthButtons.classList.remove('hidden');
                mobileUserMenu.classList.add('hidden');
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateAuthUI();
            showMessage('Logged out successfully', 'success');
            showPage('home');
        }

        // Cart Management
        let appliedCoupon = null;
        const coupons = {
            'WELCOME10': { discount: 10, type: 'percentage', description: '10% off for new users' },
            'SAVE500': { discount: 500, type: 'fixed', description: 'â‚¹500 off on orders above â‚¹5000' },
            'STUDENT20': { discount: 20, type: 'percentage', description: '20% student discount' },
            'BULK25': { discount: 25, type: 'percentage', description: '25% off on 3+ courses' }
        };

        function addToCart(courseId) {
            const course = courses.find(c => c.id === courseId);
            if (!course) return;

            const existingItem = cart.find(item => item.id === courseId);
            if (existingItem) {
                showMessage('Course already in cart', 'info');
                return;
            }

            cart.push(course);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            updateCartDisplay();
            showMessage(`${course.title} added to cart!`, 'success');
        }

        function removeFromCart(courseId) {
            cart = cart.filter(item => item.id !== courseId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            updateCartDisplay();
            showMessage('Course removed from cart', 'info');
        }

        function clearCart() {
            if (cart.length === 0) return;
            
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                appliedCoupon = null;
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartUI();
                updateCartDisplay();
                showMessage('Cart cleared', 'info');
            }
        }

        function updateCartUI() {
            document.getElementById('cart-count').textContent = cart.length;
        }

        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cart-items');
            const emptyCartContainer = document.getElementById('empty-cart');
            const checkoutBtn = document.getElementById('checkout-btn');

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '';
                emptyCartContainer.classList.remove('hidden');
                checkoutBtn.disabled = true;
                updateCartTotals();
                return;
            }

            emptyCartContainer.classList.add('hidden');
            checkoutBtn.disabled = false;

            cartItemsContainer.innerHTML = cart.map(course => `
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 transition-colors">
                    <div class="flex items-center space-x-4">
                        <div class="w-20 h-20 bg-gradient-to-r ${getCourseGradient(course.category)} rounded-lg flex items-center justify-center flex-shrink-0">
                            <span class="text-2xl">${course.image}</span>
                        </div>
                        
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">${course.title}</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">${course.description}</p>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-4">
                                        <span class="flex items-center space-x-1">
                                            <span>â±ï¸</span>
                                            <span>${course.duration}</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>ðŸ“š</span>
                                            <span>${course.lessons} lessons</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>â­</span>
                                            <span>${course.rating}</span>
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="text-right">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="text-xl font-bold text-primary-600 dark:text-primary-400">â‚¹${course.price.toLocaleString('en-IN')}</span>
                                        ${course.originalPrice ? `<span class="text-gray-500 line-through text-sm">â‚¹${course.originalPrice.toLocaleString('en-IN')}</span>` : ''}
                                    </div>
                                    <button onclick="removeFromCart(${course.id})" class="text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm transition-colors">
                                        ðŸ—‘ï¸ Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            updateCartTotals();
        }

        function updateCartTotals() {
            const subtotal = cart.reduce((sum, course) => sum + course.price, 0);
            const tax = Math.round(subtotal * 0.18); // 18% GST
            
            let discount = 0;
            if (appliedCoupon) {
                const coupon = coupons[appliedCoupon];
                if (coupon.type === 'percentage') {
                    discount = Math.round(subtotal * (coupon.discount / 100));
                } else {
                    discount = coupon.discount;
                }
                
                // Apply minimum order conditions
                if (appliedCoupon === 'SAVE500' && subtotal < 5000) {
                    discount = 0;
                }
                if (appliedCoupon === 'BULK25' && cart.length < 3) {
                    discount = 0;
                }
            }
            
            const total = subtotal + tax - discount;

            document.getElementById('cart-subtotal').textContent = `â‚¹${subtotal.toLocaleString('en-IN')}`;
            document.getElementById('cart-tax').textContent = `â‚¹${tax.toLocaleString('en-IN')}`;
            document.getElementById('cart-discount').textContent = `-â‚¹${discount.toLocaleString('en-IN')}`;
            document.getElementById('cart-total').textContent = `â‚¹${total.toLocaleString('en-IN')}`;
        }

        function applyCoupon() {
            const couponCode = document.getElementById('coupon-input').value.trim().toUpperCase();
            const messageDiv = document.getElementById('coupon-message');
            
            if (!couponCode) {
                showCouponMessage('Please enter a coupon code', 'error');
                return;
            }

            if (!coupons[couponCode]) {
                showCouponMessage('Invalid coupon code', 'error');
                return;
            }

            const coupon = coupons[couponCode];
            const subtotal = cart.reduce((sum, course) => sum + course.price, 0);

            // Check conditions
            if (couponCode === 'SAVE500' && subtotal < 5000) {
                showCouponMessage('This coupon requires a minimum order of â‚¹5,000', 'error');
                return;
            }

            if (couponCode === 'BULK25' && cart.length < 3) {
                showCouponMessage('This coupon requires 3 or more courses', 'error');
                return;
            }

            appliedCoupon = couponCode;
            updateCartTotals();
            showCouponMessage(`Coupon applied! ${coupon.description}`, 'success');
            document.getElementById('coupon-input').value = '';
        }

        function showCouponMessage(message, type) {
            const messageDiv = document.getElementById('coupon-message');
            messageDiv.textContent = message;
            messageDiv.className = `mt-2 text-sm ${type === 'success' ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`;
            messageDiv.classList.remove('hidden');
            
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 3000);
        }

        function checkout() {
            if (!currentUser) {
                showMessage('Please login to checkout', 'error');
                showPage('login');
                return;
            }

            if (cart.length === 0) {
                showMessage('Your cart is empty', 'error');
                return;
            }

            // Simulate checkout process
            const checkoutBtn = document.getElementById('checkout-btn');
            const originalText = checkoutBtn.innerHTML;
            
            checkoutBtn.disabled = true;
            checkoutBtn.innerHTML = '<div class="loading-spinner mx-auto"></div> Processing...';

            setTimeout(() => {
                // Process each course enrollment
                const userData = userDataManager.getUserData();
                let enrolledCount = 0;
                
                cart.forEach(course => {
                    // Check if already enrolled
                    if (!userData.enrolledCourses.find(c => c.id === course.id)) {
                        userData.enrolledCourses.push({
                            ...course,
                            enrolledDate: new Date().toISOString(),
                            progress: 0,
                            completedLessons: 0
                        });
                        enrolledCount++;
                    }
                });

                // Add to purchase history
                const subtotal = cart.reduce((sum, course) => sum + course.price, 0);
                const tax = Math.round(subtotal * 0.18);
                let discount = 0;
                
                if (appliedCoupon) {
                    const coupon = coupons[appliedCoupon];
                    if (coupon.type === 'percentage') {
                        discount = Math.round(subtotal * (coupon.discount / 100));
                    } else {
                        discount = coupon.discount;
                    }
                }
                
                const total = subtotal + tax - discount;

                userData.purchaseHistory.push({
                    id: Date.now(),
                    courses: [...cart],
                    subtotal: subtotal,
                    tax: tax,
                    discount: discount,
                    total: total,
                    couponUsed: appliedCoupon,
                    purchaseDate: new Date().toISOString(),
                    type: 'bulk_purchase'
                });

                // Add to recent activity
                userData.recentActivity.unshift({
                    id: Date.now(),
                    type: 'purchase',
                    message: `Purchased ${cart.length} course${cart.length > 1 ? 's' : ''} for â‚¹${total.toLocaleString('en-IN')}`,
                    timestamp: new Date().toISOString(),
                    icon: 'ðŸ›’'
                });

                // Check achievements
                if (userData.enrolledCourses.length === 1) {
                    userDataManager.unlockAchievement(userData, 'first_purchase');
                }
                if (userData.enrolledCourses.length >= 5) {
                    userDataManager.unlockAchievement(userData, 'course_collector');
                }

                userDataManager.saveUserData(userData);

                // Clear cart
                cart = [];
                appliedCoupon = null;
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartUI();
                updateCartDisplay();

                // Show success message
                showMessage(`Successfully purchased ${enrolledCount} course${enrolledCount > 1 ? 's' : ''}! Check your dashboard to start learning.`, 'success');
                
                // Reset button
                checkoutBtn.disabled = false;
                checkoutBtn.innerHTML = originalText;
                
                // Redirect to dashboard
                setTimeout(() => {
                    showPage('dashboard');
                }, 2000);
                
            }, 2000);
        }

        // Video Player Management
        let currentVideoState = {
            isPlaying: false,
            currentCourse: null,
            currentLessonIndex: 0,
            lessons: []
        };

        function openCourseVideo(courseId) {
            if (!currentUser) {
                showMessage('Please login to access course videos', 'error');
                return;
            }

            const userData = userDataManager.getUserData();
            const enrolledCourse = userData.enrolledCourses.find(c => c.id === courseId);
            
            if (!enrolledCourse) {
                showMessage('You are not enrolled in this course', 'error');
                return;
            }

            // Set up video state
            currentVideoState.currentCourse = enrolledCourse;
            currentVideoState.currentLessonIndex = 0;
            
            // Generate lessons based on curriculum
            currentVideoState.lessons = [];
            enrolledCourse.curriculum.forEach((section, sectionIndex) => {
                for (let i = 0; i < section.lessons; i++) {
                    currentVideoState.lessons.push({
                        id: `${sectionIndex}-${i}`,
                        title: `${section.title} - Lesson ${i + 1}`,
                        section: section.title,
                        duration: Math.floor(parseInt(section.duration) / section.lessons) + ' min',
                        completed: i < enrolledCourse.completedLessons
                    });
                }
            });

            // Update video page
            updateVideoPage();
            showPage('course-video');
        }

        function updateVideoPage() {
            const course = currentVideoState.currentCourse;
            const currentLesson = currentVideoState.lessons[currentVideoState.currentLessonIndex];
            
            if (!course || !currentLesson) return;

            // Update header
            document.getElementById('video-course-title').textContent = course.title;
            document.getElementById('video-lesson-title').textContent = currentLesson.title;
            
            // Update progress
            const progress = Math.round((course.completedLessons / course.lessons) * 100);
            document.getElementById('course-progress-text').textContent = progress + '%';
            document.getElementById('course-progress-bar').style.width = progress + '%';

            // Update curriculum sidebar
            updateVideoCurriculum();
            
            // Update lesson description
            document.getElementById('lesson-description').innerHTML = `
                <p><strong>Section:</strong> ${currentLesson.section}</p>
                <p><strong>Duration:</strong> ${currentLesson.duration}</p>
                <p class="mt-4">This lesson covers important concepts that will help you understand the fundamentals of the topic. Make sure to take notes and practice along with the examples shown in the video.</p>
            `;
        }

        function updateVideoCurriculum() {
            const container = document.getElementById('video-curriculum');
            const lessons = currentVideoState.lessons;
            
            container.innerHTML = lessons.map((lesson, index) => `
                <div class="flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${
                    index === currentVideoState.currentLessonIndex 
                        ? 'bg-primary-100 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-700' 
                        : 'hover:bg-gray-50 dark:hover:bg-gray-700'
                }" onclick="selectLesson(${index})">
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs ${
                            lesson.completed 
                                ? 'bg-green-500 text-white' 
                                : index === currentVideoState.currentLessonIndex
                                    ? 'bg-primary-500 text-white'
                                    : 'bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-300'
                        }">
                            ${lesson.completed ? 'âœ“' : index + 1}
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900 dark:text-white">${lesson.title}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">${lesson.duration}</p>
                        </div>
                    </div>
                    ${index === currentVideoState.currentLessonIndex ? '<span class="text-primary-600 dark:text-primary-400">â–¶ï¸</span>' : ''}
                </div>
            `).join('');
        }

        function selectLesson(lessonIndex) {
            currentVideoState.currentLessonIndex = lessonIndex;
            currentVideoState.isPlaying = false;
            updateVideoPage();
            updatePlayButtons();
        }

        function toggleVideoPlay() {
            currentVideoState.isPlaying = !currentVideoState.isPlaying;
            updatePlayButtons();
            
            if (currentVideoState.isPlaying) {
                showMessage('Video playing...', 'info');
            } else {
                showMessage('Video paused', 'info');
            }
        }

        function updatePlayButtons() {
            const playText = currentVideoState.isPlaying ? 'â¸ï¸ Pause' : 'â–¶ï¸ Play';
            document.getElementById('play-btn').textContent = playText;
            document.getElementById('main-play-btn').textContent = playText;
        }

        function previousLesson() {
            if (currentVideoState.currentLessonIndex > 0) {
                selectLesson(currentVideoState.currentLessonIndex - 1);
            } else {
                showMessage('This is the first lesson', 'info');
            }
        }

        function nextLesson() {
            if (currentVideoState.currentLessonIndex < currentVideoState.lessons.length - 1) {
                selectLesson(currentVideoState.currentLessonIndex + 1);
            } else {
                showMessage('This is the last lesson', 'info');
            }
        }

        function markLessonComplete() {
            if (!currentUser) return;
            
            const userData = userDataManager.getUserData();
            const course = currentVideoState.currentCourse;
            const lessonIndex = currentVideoState.currentLessonIndex;
            
            // Find the enrolled course
            const enrolledCourse = userData.enrolledCourses.find(c => c.id === course.id);
            if (!enrolledCourse) return;

            // Mark lesson as completed
            if (lessonIndex >= enrolledCourse.completedLessons) {
                enrolledCourse.completedLessons = lessonIndex + 1;
                enrolledCourse.progress = Math.round((enrolledCourse.completedLessons / enrolledCourse.lessons) * 100);
                
                // Update hours learned (estimate 1 hour per 4 lessons)
                userData.totalHoursLearned += 0.25;
                
                // Add to recent activity
                userData.recentActivity.unshift({
                    id: Date.now(),
                    type: 'lesson_complete',
                    message: `Completed lesson in "${course.title}"`,
                    timestamp: new Date().toISOString(),
                    icon: 'âœ…'
                });

                // Check if course is completed
                if (enrolledCourse.completedLessons >= enrolledCourse.lessons) {
                    userData.completedCourses.push({
                        ...enrolledCourse,
                        completedDate: new Date().toISOString()
                    });
                    
                    userData.certificates.push({
                        id: Date.now(),
                        courseId: course.id,
                        courseTitle: course.title,
                        issuedDate: new Date().toISOString()
                    });

                    userData.recentActivity.unshift({
                        id: Date.now(),
                        type: 'course_complete',
                        message: `Completed course "${course.title}" and earned certificate!`,
                        timestamp: new Date().toISOString(),
                        icon: 'ðŸ†'
                    });

                    userDataManager.unlockAchievement(userData, 'quick_learner');
                    showMessage(`ðŸŽ‰ Congratulations! You've completed "${course.title}" and earned a certificate!`, 'success');
                } else {
                    showMessage('Lesson marked as complete!', 'success');
                }

                // Check learning hours achievement
                if (userData.totalHoursLearned >= 20) {
                    userDataManager.unlockAchievement(userData, 'dedicated_student');
                }

                userDataManager.saveUserData(userData);
                
                // Update current state
                currentVideoState.currentCourse = enrolledCourse;
                currentVideoState.lessons[lessonIndex].completed = true;
                
                // Update display
                updateVideoPage();
                
                // Auto-advance to next lesson
                setTimeout(() => {
                    if (lessonIndex < currentVideoState.lessons.length - 1) {
                        nextLesson();
                    }
                }, 1500);
            } else {
                showMessage('Lesson already completed', 'info');
            }
        }

        // Mobile Menu
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const openIcon = document.getElementById('mobile-menu-icon-open');
            const closeIcon = document.getElementById('mobile-menu-icon-close');
            
            mobileMenu.classList.toggle('hidden');
            openIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const openIcon = document.getElementById('mobile-menu-icon-open');
            const closeIcon = document.getElementById('mobile-menu-icon-close');
            
            mobileMenu.classList.add('hidden');
            openIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
        }

        // Utility Functions
        function showMessage(message, type = 'info') {
            const container = document.getElementById('message-container');
            const messageDiv = document.createElement('div');
            
            const bgColor = {
                success: 'bg-green-500',
                error: 'bg-red-500',
                info: 'bg-blue-500',
                warning: 'bg-yellow-500'
            }[type] || 'bg-blue-500';
            
            messageDiv.className = `${bgColor} text-white px-6 py-3 rounded-lg shadow-lg mb-4 fade-in`;
            messageDiv.textContent = message;
            
            container.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        // Additional utility functions for dropdown and other features
        function toggleUserDropdown() {
            const dropdown = document.getElementById('user-dropdown');
            dropdown.classList.toggle('hidden');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('user-dropdown');
            const button = event.target.closest('button');
            
            if (!button || !button.onclick || button.onclick.toString().indexOf('toggleUserDropdown') === -1) {
                dropdown.classList.add('hidden');
            }
        });

        // Add this function to fix the error
        function simulateProgress() {
            if (!currentUser) return;
            const userData = userDataManager.getUserData();

            // Simulate progress for all enrolled courses
            userData.enrolledCourses.forEach(course => {
                // Increase completed lessons by 1, up to total lessons
                if (course.completedLessons < course.lessons) {
                    course.completedLessons += 1;
                    course.progress = Math.round((course.completedLessons / course.lessons) * 100);
                }
            });

            // Simulate learning hours
            userData.totalHoursLearned += 1;

            // Save and update dashboard
            userDataManager.saveUserData(userData);
            updateDashboard();
            showMessage('Progress simulated for enrolled courses!', 'success');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979cf2d037f40337',t:'MTc1Njk4MzI2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
